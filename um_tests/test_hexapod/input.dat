with main; version=80 ;
  type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
    comments="Simple hexapod leg";
  objectidentifier=hexapod_leg;
  bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
  gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
  rotationstyle = z;
  mousepick=false;
  a={-0.588166779231301 -0.310163375644948 0.746899270462304 0 0.923534860691436 0.383514486150907 -0.808739661330291 0.225570480107928 -0.543192524520708};
  target={0 0 0.378953005949668};
  distance=10;
  sensitivity_threshold=0.050;
with const;
  cnst=(fl_alpha# 0);
  cnst=(ml_alpha# 0);
  cnst=(rl_alpha# 0);
  cnst=(fr_alpha# 0);
  cnst=(mr_alpha# 0);
  cnst=(rr_alpha# 0);

with egravity; gravityz=-1; 
with go;
  name="body";
  p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; 
  with ge; type=BAR;
  VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
  p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; 
  width=1;
  Density=7800; SurfaceWidth=5; WireSection=5;
  discret=0;  box=0.1,0.2,0.015;
$ Subsystems and standard elements (wheelsets, etc)
  with subs1; name="FL"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs1; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
  with subs2; name="ML"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs2; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
  with subs3; name="RL"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs3; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
  with subs4; name="FR"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs4; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
  with subs5; name="MR"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs5; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
  with subs6; name="RR"; type=mbsincluded; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    ident=Subs6; 
  with main;
    type=mbs;  autogravity=true;  symbolic = false; size=0.03; scene=0; 
      comments="Simple hexapod leg";
    objectidentifier=hexapod_leg;
    bkgcolor=16777215; gridcolor=16448; axessaturation= 1.E2; 
    gridstep= 5.E-2; axelengthx= 3.; axelengthy= 3.; axelengthz= 3.; 
    rotationstyle = z;
    mousepick=false;
    sensitivity_threshold=0.050;
  with const;
    cnst=(p1# 0.05# "segment 1");
    cnst=(p2# 0.05# "segment 2");
    cnst=(p3# 0.05# "segment 3");
    cnst=(beta# 0);
    cnst=(gamma# 0);
  
  with egravity; gravityz=-1; 
  with go;
    name="seg1";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p1; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg2";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p2; r1=0.006; r2=0.006;
    npc=20; npl=2;
  with go;
    name="seg3";
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; angle1=0; angle2=0; angle3=0; 
    with ge; type=CYLINDER;
    VisibleSide=vsFront;  material=6520998,6520998,0,0,10,1;
    p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; axis1=2; angle1=90; angle2=0; angle3=0; 
    width=1;
    Density=7800; SurfaceWidth=5; WireSection=5;
    h=p3; r1=0.006; r2=0.006;
    npc=20; npl=2;
  $ Bodies, inertia parameters, images
  with body1; name="leg_seg1"; ppjoint=0; igrobj=1; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body2; name="leg_seg2"; ppjoint=0; igrobj=2; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  with body3; name="leg_seg3"; ppjoint=0; igrobj=3; 
    m=0.1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
      opoints={
        '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
      };
  
  $ Joints, degrees of freedom, hinges, initial conditions
  with joint1; name="jleg_seg1_leg_seg1"; type=rotat; bd1="leg_seg1"; bd2="leg_seg2"; 
    with jnt1dof; 
      ro1x=p1; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=-1.; e1z=0; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg1_leg_seg1"; type=expression;
    expression=beta; 
  with joint2; name="jleg_seg2_leg_seg2"; type=rotat; bd1="leg_seg2"; bd2="leg_seg3"; 
    with jnt1dof; 
      ro1x=p2; ro1y=0; ro1z=; ro2x=; ro2y=; ro2z=; 
    e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
    constx=0; consta= 3.5E1; x0=0; 
  with scalarforce; name="jleg_seg2_leg_seg2"; type=expression;
    expression=gamma; 
  with end;
  
$ Bodies, inertia parameters, images
with body1; name="Body"; ppjoint=0; igrobj=1; 
  m=1; ixx=1; ixy=; ixz=; iyy=1; iyz=; izz=1; rcx=; rcy=; rcz=; 
    cpoints={
      '0.05' '0.1' '0' 'Point' 
      '-0.05' '0.1' '0' 'Point' 
      '0.05' '-0.1' '0' 'Point' 
      '-0.05' '-0.1' '0' 'Point' 
    };
    opoints={
      '' '' '' 'LSC'  '0' '0' '0' '0' '0' '0'
    };

$ Joints, degrees of freedom, hinges, initial conditions
with joint1; name="jBase0_Body"; type=6dof; bd1="Base0"; bd2="Body"; 
  with jnt6dof; 
  position=1;
  p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; 
  position=2;
  p1x=; p1y=; p1z=; p2x=; p2y=; p2z=; 
  position=0;
  angles=312; 
  x0=0; 
  y0=0; 
  z0=0; 
  angle10=0; 
  angle20=0; 
  angle30=0; 
with joint2; name="jBody_leg_FL"; type=rotat; bd1="Body"; bd2="FL.leg_seg1"; 
  with jnt1dof; 
    ro1x=-0.05; ro1y=0.1; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta= 1.8E2; x0=0; 
with scalarforce; name="jBody_leg_FL"; type=expression;
  expression=FL_alpha; 
with joint3; name="jBody_leg_ML"; type=rotat; bd1="Body"; bd2="ML.leg_seg1"; 
  with jnt1dof; 
    ro1x=-0.05; ro1y=0; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta= 1.8E2; x0=0; 
with scalarforce; name="jBody_leg_ML"; type=expression;
  expression=ML_alpha; 
with joint4; name="jBody_leg_RL"; type=rotat; bd1="Body"; bd2="RL.leg_seg1"; 
  with jnt1dof; 
    ro1x=-0.05; ro1y=-0.1; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta= 1.8E2; x0=0; 
with scalarforce; name="jBody_leg_RL"; type=expression;
  expression=RL_alpha; 
with joint5; name="jBody_leg_FR"; type=rotat; bd1="Body"; bd2="FR.leg_seg1"; 
  with jnt1dof; 
    ro1x=0.05; ro1y=0.1; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta=0; x0=0; 
with scalarforce; name="jBody_leg_FR"; type=expression;
  expression=FR_alpha; 
with joint6; name="jBody_leg_MR"; type=rotat; bd1="Body"; bd2="MR.leg_seg1"; 
  with jnt1dof; 
    ro1x=0.05; ro1y=0; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta=0; x0=0; 
with scalarforce; name="jBody_leg_MR"; type=expression;
  expression=MR_alpha; 
with joint7; name="jBody_leg_RR"; type=rotat; bd1="Body"; bd2="RR.leg_seg1"; 
  with jnt1dof; 
    ro1x=0.05; ro1y=-0.1; ro1z=0; ro2x=; ro2y=; ro2z=; 
  e1x=0; e1y=0; e1z= 1.; e2x=0; e2y=0; e2z= 1.; 
  constx=0; consta=0; x0=0; 
with scalarforce; name="jBody_leg_RR"; type=expression;
  expression=RR_alpha; 

$ Contact forces
  with cfrc; name="CFrc1"; type=plane_point; bd1="Body"; bd2="Base0"; reverse=true; 
    ro1x=; ro1y=; ro1z=; ro2x=; ro2y=; ro2z=; 
    f=0.25; f0=0.3; cstiff=1E6; cdiss=1e4; kroll=; kspin=; vstribeck=; delta=1; dissfactor=; vstar=0.01; 
    px=; py=; pz=; ex=0; ey=0; ez= 1.; minx=; maxx=; clearance=; 
    points={
      '0.05' '0.1' '' 
      '0.05' '-0.1' '' 
      '-0.05' '0.1' '' 
      '-0.05' '-0.1' '' 
    };
with end;
